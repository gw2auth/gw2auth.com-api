# https://opentelemetry.io/docs/collector/configuration
# https://github.com/open-telemetry/opentelemetry-lambda/blob/main/collector/README.md
# https://grafana.com/docs/grafana-cloud/data-configuration/otlp/send-data-otlp/

receivers:
  otlp:
    protocols:
      grpc:

exporters:
  logging:
    verbosity: detailed
  otlphttp:
    endpoint: "https://otlp-gateway-prod-eu-west-0.grafana.net/otlp"
    headers:
      authorization: ${env:GRAFANA_CLOUD_AUTH}
#  otlp/tempo:
#    endpoint: "tempo-eu-west-0.grafana.net:443"
#    headers:
#      authorization: ${env:OTEL_TEMPO_SECRET}
#  otlphttp/tempo:
#    traces_endpoint: "https://tempo-eu-west-0.grafana.net/tempo"
#    headers:
#      authorization: ${env:OTEL_TEMPO_SECRET}
#  prometheusremotewrite:
#    endpoint: "https://prometheus-prod-01-eu-west-0.grafana.net/api/prom/push"
#    headers:
#      authorization: ${env:OTEL_PROMETHEUS_SECRET}
#  loki:
#    endpoint: "https://logs-prod-eu-west-0.grafana.net/loki/api/v1/push"
#    headers:
#      authorization: ${env:OTEL_LOKI_SECRET}

service:
  telemetry:
    logs:
      level: debug
  pipelines:
    traces:
      receivers: [otlp]
      exporters: [logging, otlphttp]
    metrics:
      receivers: [otlp]
      exporters: [logging, otlphttp]
    logs:
      receivers: [otlp]
      exporters: [logging, otlphttp]
